```python?code_reference&code_event_index=2
import pandas as pd
import io

# 1. Load the original WBS (M1-タスク.csv)
try:
    df_wbs = pd.read_csv("M1-タスク.csv")
except Exception as e:
    print(f"Error reading M1-タスク.csv: {e}")
    # Create a dummy dataframe if file not found, to show the structure
    df_wbs = pd.DataFrame(columns=['名前', 'id', 'サブアイテム', 'ステータス', '担当者', '日付', '次のタスクにより保留中：', '次のタスクを保留中：', '親アイテム'])

# 2. Filter for project 1.x.x
# We will keep 1.1 and 1.2 (as the Quick Win track)
# We will remove the original 1.3
df_original_1_1 = df_wbs[df_wbs['id'].str.startswith('1.1', na=False)]
df_original_1_2 = df_wbs[df_wbs['id'].str.startswith('1.2', na=False)]

# 3. Define the new Track B (1.3) and Track C (1.4) tasks
# Based on the user's request for 2 workshops and the new flow

new_tasks_data = [
    # --- 成果物3: 戦略KPIマップ (Track B) ---
    {'名前': '成果物3: KPIマップ(M2)', 'id': '1.3', 'サブアイテム': '', 'ステータス': '', '担当者': '', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': '[第1回] KPI定義WS 準備（論点・たたき台作成）', 'id': '1.3.1', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': '[第1回] KPI定義WS 実施（ジム・SFFのKPI定義）', 'id': '1.3.2', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木/なーすけ,しおん', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': '[第2回] KPI定義WS 準備（論点・定義の精緻化）', 'id': '1.3.3', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': '[第2回] KPI定義WS 実施（KPI定義の確定）', 'id': '1.3.4', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木/なーすけ,しおん', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': 'データ取得要件の定義と依頼（会計事務所・自社）', 'id': '1.3.5', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木/しおん', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': '戦略KPIデータ取得・分析（LTV, SFF貢献度等）', 'id': '1.3.6', 'サブアイテム': '', 'ステータス': '未着手', '担当者': 'しおん/鈴木', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': '「主要レバー」の特定', 'id': '1.3.7', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木/なーすけ', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': '「経営判断マップ」作成（PL, コスト, KPIの統合）', 'id': '1.3.8', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': 'レビューと承認', 'id': '1.3.9', 'サブアイテム': '', 'ステータス': '未着手', '担当者': 'しおん/なーすけ', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},

    # --- 成果物4: データ取得体制ロードマップ (Track C) ---
    {'名前': '成果物4: データ取得体制ロードマップ (M2以降)', 'id': '1.4', 'サブアイテム': '', 'ステータス': '', '担当者': '', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': '取得不能データ（KPIギャップ）の特定', 'id': '1.4.1', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木/しおん', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': 'CRM導入要件へのインプット作成', 'id': '1.4.2', 'サブアイテム': '', 'ステータス': '未着手', '担当者': '鈴木/しおん', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''},
    {'名前': 'ロードマップレビューと合意', 'id': '1.4.3', 'サブアイテム': '', 'ステータス': '未着手', '担当者': 'なーすけ/鈴木', '日付': '', '次のタスクにより保留中：': '', '次のタスクを保留中：': '', '親アイテム': ''}
]

df_new_tasks = pd.DataFrame(new_tasks_data)

# 4. Combine the dataframes
df_modified_wbs = pd.concat([
    df_original_1_1,
    df_original_1_2,
    df_new_tasks
], ignore_index=True)

# 5. Fill NaN values with empty strings for consistent CSV output
df_modified_wbs = df_modified_wbs.fillna('')

# 6. Sort by 'id' to ensure correct order
df_modified_wbs = df_modified_wbs.sort_values(by='id')

# 7. Print the result as a CSV string
output_csv = df_modified_wbs.to_csv(index=False)
print(output_csv)
print("\n上記WBS（1.x.x）を 'M1-タスク-改.csv' として保存しました。")

# Save the modified WBS to a new CSV file
df_modified_wbs.to_csv("M1-タスク-改.csv", index=False)


```

```text?code_stdout&code_event_index=2
名前,id,サブアイテム,ステータス,担当者,日付,次のタスクにより保留中：,次のタスクを保留中：,親アイテム
成果物1: 実質PL(v1),1.1,,,,,,,
会計事務所へのアポイント調整,1.1.1,,未着手,しおん/鈴木,11/19/25,,,
会計事務所との調整会議,1.1.2,,未着手,しおん/鈴木,11/26/25,,,
現状PLデータ取得,1.1.3,,未着手,しおん,11/19/25,,,
「実質PL」ロジック設計,1.1.4,,未着手,鈴木/しおん,11/28/25,,,
「実質PL (v1)」試算,1.1.5,,未着手,鈴木/しおん,12/2/25,,,
レビューと承認,1.1.6,,未着手,しおん/なーすけ,12/4/25,,,
成果物2: コスト分析(M1),1.2,,,,,,,
コスト明細データ取得,1.2.1,,未着手,しおん,12/17/25,,,
コスト分類ルール設計,1.2.2,,未着手,鈴木/しおん,12/17/25,,,
全コスト明細の分類作業,1.2.3,,未着手,しおん/鈴木,12/22/25,,,
「外注構造マップ」作成,1.2.4,,未着手,鈴木,1/7/26,,,
「削減仮説」策定,1.2.5,,未着手,鈴木/しおん,1/14/26,,,
レポート作成とレビュー,1.2.6,,未着手,鈴木/なーすけ,1/21/26,,,
成果物3: KPIマップ(M2),1.3,,,,,,,
[第1回] KPI定義WS 準備（論点・たたき台作成）,1.3.1,,未着手,鈴木,,,,
[第1回] KPI定義WS 実施（ジム・SFFのKPI定義）,1.3.2,,未着手,"鈴木/なーすけ,しおん",,,,
[第2回] KPI定義WS 準備（論点・定義の精緻化）,1.3.3,,未着手,鈴木,,,,
[第2回] KPI定義WS 実施（KPI定義の確定）,1.3.4,,未着手,"鈴木/なーすけ,しおん",,,,
データ取得要件の定義と依頼（会計事務所・自社）,1.3.5,,未着手,鈴木/しおん,,,,
"戦略KPIデータ取得・分析（LTV, SFF貢献度等）",1.3.6,,未着手,しおん/鈴木,,,,
「主要レバー」の特定,1.3.7,,未着手,鈴木/なーすけ,,,,
"「経営判断マップ」作成（PL, コスト, KPIの統合）",1.3.8,,未着手,鈴木,,,,
レビューと承認,1.3.9,,未着手,しおん/なーすけ,,,,
成果物4: データ取得体制ロードマップ (M2以降),1.4,,,,,,,
取得不能データ（KPIギャップ）の特定,1.4.1,,未着手,鈴木/しおん,,,,
CRM導入要件へのインプット作成,1.4.2,,未着手,鈴木/しおん,,,,
ロードマップレビューと合意,1.4.3,,未着手,なーすけ/鈴木,,,,


上記WBS（1.x.x）を 'M1-タスク-改.csv' として保存しました。

```

[file-tag: code-generated-file-0-1763328007657865802]

承知いたしました。
ご提案いただいた「2トラック並行アプローチ」と、「KPI定義ワークショップを2回設ける」というご要望に基づき、WBS（`M1-タスク.csv`）のプロジェクト「1.x.x」部分を修正しました。

ポイントは以下の通りです。

1.  **Track A (Quick Win)**: `1.2 成果物2: コスト分析(M1)` は、クライアントのKPI定義を待たずに即時実行する「クイックウィン」トラックとして、元のタスクをそのまま残しています。
2.  **Track B (Strategic)**: `1.3 成果物3: KPIマップ(M2)` を全面的に再構築しました。
      * ご要望の通り、KPI定義ワークショップ（WS）を準備と実施を含めて2回（`1.3.1`～`1.3.4`）設定しました。
      * WSのアウトプットとして「データ取得要件の定義と依頼」（`1.3.5`）と「戦略KPIデータ取得・分析」（`1.3.6`）を明示的にタスク化しました。
      * 最終的な「経営判断マップ」（`1.3.8`）は、実質PL（`1.1`）、コスト分析（`1.2`）、戦略KPI（`1.3`）をすべて統合するものとして定義しています。
3.  **Track C (Future)**: 新たな論点であった「3ヶ月以降の体制構築」を、`1.4 成果物4: データ取得体制ロードマップ` として新規にタスク化しました。

-----

### WBS (1.x.x) 修正版

修正後のWBS（CSV形式）は以下の通りです。
ファイル `M1-タスク-改.csv` としても保存しました。

```csv
名前,id,サブアイテム,ステータス,担当者,日付,次のタスクにより保留中：,次のタスクを保留中：,親アイテム
成果物1: 実質PL(v1),1.1,,,,,,,
会計事務所へのアポイント調整,1.1.1,,未着手,しおん/鈴木,11/19/25,,,
会計事務所との調整会議,1.1.2,,未着手,しおん/鈴木,11/26/25,,,
現状PLデータ取得,1.1.3,,未着手,しおん,11/19/25,,,
「実質PL」ロジック設計,1.1.4,,未着手,鈴木/しおん,11/28/25,,,
「実質PL (v1)」試算,1.1.5,,未着手,鈴木/しおん,12/2/25,,,
レビューと承認,1.1.6,,未着手,しおん/なーすけ,12/4/25,,,
成果物2: コスト分析(M1),1.2,,,,,,,
コスト明細データ取得,1.2.1,,未着手,しおん,12/17/25,,,
コスト分類ルール設計,1.2.2,,未着手,鈴木/しおん,12/17/25,,,
全コスト明細の分類作業,1.2.3,,未着手,しおん/鈴木,12/22/25,,,
「外注構造マップ」作成,1.2.4,,未着手,鈴木,1/7/26,,,
「削減仮説」策定,1.2.5,,未着手,鈴木/しおん,1/14/26,,,
レポート作成とレビュー,1.2.6,,未着手,鈴木/なーすけ,1/21/26,,,
成果物3: KPIマップ(M2),1.3,,,,,,,
[第1回] KPI定義WS 準備（論点・たたき台作成）,1.3.1,,未着手,鈴木,,,,
[第1回] KPI定義WS 実施（ジム・SFFのKPI定義）,1.3.2,,未着手,"鈴木/なーすけ,しおん",,,,
[第2回] KPI定義WS 準備（論点・定義の精緻化）,1.3.3,,未着手,鈴木,,,,
[第2回] KPI定義WS 実施（KPI定義の確定）,1.3.4,,未着手,"鈴木/なーすけ,しおん",,,,
データ取得要件の定義と依頼（会計事務所・自社）,1.3.5,,未着手,鈴木/しおん,,,,
"戦略KPIデータ取得・分析（LTV, SFF貢献度等）",1.3.6,,未着手,しおん/鈴木,,,,
「主要レバー」の特定,1.3.7,,未着手,鈴木/なーすけ,,,,
"「経営判断マップ」作成（PL, コスト, KPIの統合）",1.3.8,,未着手,鈴木,,,,
レビューと承認,1.3.9,,未着手,しおん/なーすけ,,,,
成果物4: データ取得体制ロードマップ (M2以降),1.4,,,,,,,
取得不能データ（KPIギャップ）の特定,1.4.1,,未着手,鈴木/しおん,,,,
CRM導入要件へのインプット作成,1.4.2,,未着手,鈴木/しおん,,,,
ロードマップレビューと合意,1.4.3,,未着手,なーすけ/鈴木,,,,
```